---
// imports
import type { JobProps } from "@/types/job";
import { formatDatetime } from "@/lib/utils";

const { data } = Astro.props;
const {
  title,
  company,
  location,
  description,
  startDate,
  endDate,
  list,
  currentJob,
  technologies,
} = data as JobProps;
---

<details class="group">
  <summary
    class="w-full flex flex-col bg-zinc-800 hover:bg-opacity-50 p-4 rounded-md overflow-hidden list-none cursor-pointer"
  >
    <div class="flex justify-between">
      <h3 class="text-xl font-bold">
        {title}
      </h3>

      <span class="group-open:hidden text-xs">more +</span>
      <span class="hidden group-open:inline text-xs">less -</span>
    </div>
    <div class="flex flex-col gap-4 sm:flex-row">
      <div class="w-fit px-2 py-1 text-sm text-white bg-cyan-500 rounded-full">
        {formatDatetime(startDate)} - {
          currentJob ? "Present" : formatDatetime(endDate)
        }
      </div>
      <div class="flex gap-4">
        <h4 class="truncate text-lg font-bold text-cyan-500 m-0">{company}</h4>
        <p class="truncate m-0">{location}</p>
      </div>
    </div>
  </summary>

  <div class="w-full flex flex-col gap-4 mt-4">
    <div>
      {description}
    </div>
    <ul style="list-style: disc;">
      {list.map((item: string) => <li>{item}</li>)}
    </ul>
    <div>
      <div class="text-base font-bold">Stack</div>
      <div>
        {technologies.join(", ")}
      </div>
    </div>
  </div>
</details>
